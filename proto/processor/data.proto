syntax = "proto3";
package backend.processor.api;
import "validate/validate.proto";

message CreateAccountRequest {
  string uuid = 1 [(validate.rules).string = {min_len : 1}];
}
message CreateAccountResponse {
  bool success = 1;
  string message = 2;
}

message ResetRequest {}
message ResetResponse {
  bool success = 1;
  string message = 2;
}

message CreditRequest {
  string uuid = 1 [(validate.rules).string = {min_len : 1}];
  string transaction_id = 2 [(validate.rules).string = {min_len : 1}];
  int64 amount = 3 [(validate.rules).int64 = {gt : 0}];
  string action = 4 [(validate.rules).string = {min_len : 1}];
}
message CreditResponse {
  bool success = 1;
  string message = 2;
  int64 balance = 3;
}

message DebitRequest {
  string uuid = 1 [(validate.rules).string = {min_len : 1}];
  string transaction_id = 2 [(validate.rules).string = {min_len : 1}];
  int64 amount = 3 [(validate.rules).int64 = {gt : 0}];
  string action = 4 [(validate.rules).string = {min_len : 1}];
}
message DebitResponse {
  bool success = 1;
  string message = 2;
  int64 balance = 3;
}

message GetUserBalanceRequest {
  string uuid = 1 [(validate.rules).string = {min_len : 1}];
}
message GetUserBalanceResponse {
  bool success = 1;
  string message = 2;
  int64 balance = 3;
}

message ListUserTransactionsRequest {
  string uuid = 1 [(validate.rules).string = {min_len : 1}];
}
message ListUserTransactionsResponse {
  message Data {
    string transaction_id = 1;
    int64 amount = 2;
    string action = 3;
  }
  bool success = 1;
  string message = 2;
  repeated Data data = 3;
}
