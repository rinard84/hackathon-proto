syntax = "proto3";
package backend.processor.api;
import "validate/validate.proto";

enum TransactionType {
  Deposit = 0;
  Withdraw = 1;
}

message CreateTransactionRequest {
  int64 user_id = 1 [(validate.rules).int64 = {gt : 0}];
  double amount = 2 [(validate.rules).double = {gt : 0}];
  TransactionType type = 3;
}
message CreateTransactionResponse {
  bool success = 1;
  string message = 2;
}

message GetUserBalanceRequest {
  int64 user_id = 1 [(validate.rules).int64 = {gt : 0}];
}
message GetUserBalanceResponse {
  bool success = 1;
  string message = 2;
  double balance = 3;
}

message ListUserTransactionsRequest {
  int64 user_id = 1 [(validate.rules).int64 = {gt : 0}];
}
message ListUserTransactionsResponse {
  message Data {
    string id = 1;
    int64 user_id = 2;
    double amount = 3;
    TransactionType type = 4;
  }
  bool success = 1;
  string message = 2;
  repeated Data data = 3;
}
